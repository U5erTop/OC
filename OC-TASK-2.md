# Практическая работа по дисциплине "ОС и среды"
## Тема: Диагностика сетевых подключений и основы сетевой безопасности в Windows

**Цель работы:** Освоить встроенные сетевые утилиты командной строки Windows для диагностики подключения, анализа сетевой активности и базовой настройки брандмауэра.

**Количество занятий:** 2 пары (2 учебных пары по 1.5 часа).

---

## Занятие 1: Диагностика сетевых подключений

### Цели занятия:
*   Научиться проверять базовую сетевую связность.
*   Освоить команды для просмотра и управления сетевыми интерфейсами.
*   Научиться отслеживать маршрут прохождения сетевых пакетов.
*   Проанализировать активные сетевые подключения системы.

### Теоретическая справка (5 минут)
Любому системному администратору или IT-специалисту необходимо умение оперативно диагностировать проблемы в сети. Windows предоставляет для этого мощный набор консольных утилит.

### Практические задания

#### Часть 1: Базовая диагностика

Выполните следующие действия, записывая используемые команды и результаты их работы в отдельный файл `network_diagnostics.txt`.

1.  **Проверка базовой связности (команда `ping`):**
    *   Проверьте связность с одним из серверов Google: `ping 8.8.8.8`.
    *   Проверьте связность по доменному имени: `ping google.com`.
    *   *Вопрос для отчета: В чем разница между этими двумя командами? Что такое DNS?*
    *   Используйте ключ `-t` для непрерывного ping. Остановите выполнение комбинацией клавиш `Ctrl+C`.

2.  **Просмотр конфигурации сети (команда `ipconfig`):**
    *   Выведите базовую информацию о сетевых адаптерах: `ipconfig`.
    *   Выведите подробную информацию: `ipconfig /all`.
    *   *Задание: Найдите в выводе ваш IPv4-адрес, MAC-адрес (физический адрес) и адрес основного шлюза. Запишите их в отчет.*
    *   Попробуйте обновить аренду IP-адреса у DHCP-сервера: `ipconfig /release`, а затем `ipconfig /renew`.

#### Часть 2: Анализ пути и подключений

1.  **Определение маршрута следования пакета (команда `tracert`):**
    *   Определите, через какие узлы проходят пакеты до сервера `yandex.ru`: `tracert yandex.ru`.
    *   *Задание: Сколько "прыжков" (хопов) потребовалось, чтобы достичь цели? Запишите в отчет.*

2.  **Анализ активных сетевых подключений (команда `netstat`):**
    *   Выведите список всех активных подключений и ожидающих портов: `netstat -a`.
    *   Выведите список подключений вместе с номерами процессов (PID), которые эти подключения используют: `netstat -ano`.
    *   *Задание: Найдите в списке established-подключение (установленное) и с помощью Диспетчера задач определите, какой программе принадлежит его PID.*

---

## Занятие 2: Основы сетевой безопасности

### Цели занятия:
*   Научиться управлять встроенным Брандмауэром Windows через командную строку.
*   Освоить базовые принципы фильтрации сетевого трафика.
*   Научиться проверять доступность сетевых портов.

### Практические задания

#### Часть 1: Управление Брандмауэром Windows

Для следующих заданий командную строку **необходимо запустить от имени Администратора**.

1.  **Просмотр текущих правил:**
    *   Выведите список всех правил для входящих подключений: `netsh advfirewall firewall show rule name=all dir=in`.
    *   *Задание: Найдите в списке правило для "Удаленного помощника" (Remote Assistance). Запишите его имя и состояние (Enabled/Disabled).*

2.  **Создание собственного правила:**
    *   **Задача:** Создать правило, запрещающее входящие подключения к порту 7777 (условный порт для какой-либо игры или сервиса).
    *   **Команда:**
      ```cmd
      netsh advfirewall firewall add rule name="Блокировка порта 7777" dir=in action=block protocol=TCP localport=7777
      ```
    *   Проверьте, что правило создалось и появилось в общем списке.

3.  **Удаление правила:**
    *   Удалите созданное правило, чтобы оно не мешало:
      ```cmd
      netsh advfirewall firewall delete rule name="Блокировка порта 7777"
      ```

#### Часть 2: Проверка портов и работа с хостами

1.  **Файл `hosts` — локальное управление DNS:**
    *   Найдите и откройте файл `C:\Windows\System32\drivers\etc\hosts` в текстовом редакторе **с правами администратора** (Блокнот -> "Запуск от имени администратора" -> Файл -> Открыть).
    *   Добавьте в конец файла строку: `127.0.0.1 test.local`.
    *   Сохраните файл.
    *   Попробуйте выполнить `ping test.local`. Проанализируйте результат.
    *   *Вопрос для отчета: На что должен был ответить ping? Почему это мощный инструмент для тестирования и блокировки?*

2.  **Проверка доступности порта (утилита `telnet`):**
    *   Включите клиент Telnet (Панель управления -> "Программы и компоненты" -> "Включение или отключение компонентов Windows" -> отметьте "Клиент Telnet").
    *   Проверьте, доступен ли порт 80 на сервере `google.com`: `telnet google.com 80`.
    *   Если порт доступен, вы увидите пустое окно или служебный ответ сервера. Закройте сессию с помощью `Ctrl+]`, а затем введите `quit`.
    *   Если порт недоступен, вы получите ошибку о таймауте подклюения.
    *   *Задание: Проверьте доступность порта 443 на `google.com`. Какой результат?*

---

### Что необходимо сдать по итогам работы:

1.  **Файл `network_diagnostics.txt`** с командами, выводами и ответами на вопросы из первого занятия.
2.  **Скриншоты:**
    *   Результата работы команды `netstat -ano` с выделенным Established-подключением и Диспетчера задач с соответствующей программой.
    *   Результата пинга `test.local` после изменения файла `hosts`.
    *   Результата проверки порта 443 с помощью `telnet`.
3.  **Ответы на вопросы:**
    *   В чем разница между `ping 8.8.8.8` и `ping google.com`?
    *   Для чего используется файл `hosts`?

**Критерии оценки:**
*   Правильность выполнения всех команд и интерпретации их результатов.
*   Полнота и осмысленность ответов на вопросы.
*   Аккуратность и полнота оформления отчета.

Эта работа даст вам практические навыки, критически важные для решения огромного количества IT-проблем в корпоративных и домашних сетях.